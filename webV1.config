<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <clear />
      <!-- Explicit FastCGI handler for Python/Flask -->
      <add name="PythonHandler"
           path="*"
           verb="*"
           modules="FastCgiModule"
           scriptProcessor="C:\Python314\python.exe|C:\Python314\Lib\site-packages\wfastcgi.py"
           resourceType="Unspecified"
           requireAccess="Script" />
    </handlers>

    <!-- Enable failed request tracing -->
    <tracing>
      <traceFailedRequests>
        <add path="*" areas="Module,FastCGI,RequestNotification" verbosity="Verbose" />
      </traceFailedRequests>
    </tracing>

    <!-- Detailed error messages -->
    <httpErrors errorMode="Detailed" />
    

    <!-- Static content handling (fixed: remove duplicates) -->
    <staticContent>
      <remove fileExtension=".css" />
      <mimeMap fileExtension=".css" mimeType="text/css" />

      <remove fileExtension=".js" />
      <mimeMap fileExtension=".js" mimeType="application/javascript" />
    </staticContent>
  </system.webServer>

 <appSettings>
    <add key="WSGI_HANDLER" value="app.application" />
    <add key="PYTHONPATH" value="C:\inetpub\wwwroot\sales_project_starter" />
    <add key="WSGI_LOG" value="C:\temp\wfastcgi.log" />
    <add key="WSGI_RESTART_FILE_REGEX" value=".*((\.py)|(\.config))$" />
</appSettings>

</configuration>
